{
  "name": "validate_asset_client_ids",
  "description": "Validates the asset_client_ids exist in the vector store",
  "parameters": {
    "type": "object",
    "properties": {
      "work_order": {
        "type": "object",
        "properties": {
          "id": { 
            "type": "string",
            "description": "The ID of the work order"
          },
          "summary": { 
            "type": "string",
            "description": "A summary of the work order. Should be 1-3 sentences and describe the action that was taken in the work order, focusing on repairs, downtime caused, and costs. The text should be in plain English, a json object."
          },
          "downtime_hours": {
            "type": "number",
            "description": "The downtime hours of the work order",
            "minimum": 0,
            "maximum": 1000
          },
          "cost": {
            "type": "number",
            "description": "The cost of the work order in USD",
            "minimum": 0,
            "maximum": 100000000
          },
          "corrective_actions": {
            "type": "array",
            "description": "The corrective actions taken in the work order",
            "items": {
              "type": "string"
            }
          },
          "task_type": {
            "type": "string",
            "description": "The type of task that was performed in the work order",
            "enum": ["Reactive Repair", "Preventative Maintenance", "Inspection", "Planned Repair"]
          }
        },
        "required": ["id", "summary", "downtime_hours", "cost", "task_type"]
      },
      "matches": {
        "type": "array",
        "description": "Match work orders to relevant equipment assessments. Each assessment represents a specific piece of equipment that needs inspection or maintenance. Use the vector store to find relevant assessments based on equipment names, IDs, and descriptions.",
        "items": {
          "type": "object",
          "properties": {
            "asset_client_id": {
              "type": "string",
              "description": "Client ID of the asset. Example: '5323-0220-35' or 'VNA-OXY-5208-450'. Must match an existing asset client ID from the vector store."
            },
            "matching_confidence_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "How confident the match is (0-1)"
            },
            "matching_reasoning": {
              "type": "string",
              "description": "Explain why this assessment matches the work order"
            }
          },
          "required": [
            "asset_client_id",
            "matching_confidence_score",
            "matching_reasoning"
          ]
        }
      }
    },
    "required": ["work_order", "matches"]
  }
}